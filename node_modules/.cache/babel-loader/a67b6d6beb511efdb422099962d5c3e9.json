{"ast":null,"code":"var _jsxFileName = \"/Users/reuben/Desktop/work/lux/demo/product/eth/luxwater/src/components/addToken.js\";\nimport React, { Component } from 'react';\nimport Web3 from 'web3';\nimport '../css/marketplace.css';\nimport { MARKETPLACE_ABI, MARKETPLACE_ADDRESS } from '../config.js';\n\nclass NewToken extends Component {\n  async componentWillMount() {\n    await this.runWeb3();\n    await this.blockchain();\n    this.forceUpdate();\n  }\n\n  componentDidMount() {\n    document.title = \"react-web3\";\n  }\n\n  async componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n  constructor(props) {\n    super(props);\n    this.state = {\n      account: '',\n      balance: '',\n      loading: true\n    };\n    this.addData = this.addData.bind(this);\n  }\n\n  async runWeb3() {\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum);\n      await window.ethereum.enable();\n    } else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider);\n    } else {\n      window.alert('Non-Ethereum browser detected. Please install MetaMask or similar!');\n    }\n  }\n\n  async blockchain() {\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\");\n    const marketplaceData = new web3.eth.Contract(MARKETPLACE_ABI, MARKETPLACE_ADDRESS);\n    this.setState({\n      marketplaceData\n    });\n    const accounts = await web3.eth.getAccounts();\n    const balanceInWei = await web3.eth.getBalance(accounts[0]);\n    var balance = balanceInWei / 1000000000000000000;\n    var account = accounts[0];\n    this.setState({\n      account: account,\n      balance: balance,\n      loading: false\n    });\n  }\n\n  addData(name, state, address, type, price) {\n    this.state.marketplaceData.methods.addToken(name, state, address, type, price).send({\n      from: this.state.account\n    });\n  }\n\n  render() {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"mainForm\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"hr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 9\n      }\n    }), /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }\n    }, \" Add Token \"), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"formDiv\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"form\", {\n      className: \"sendForm\",\n      onSubmit: event => {\n        event.preventDefault();\n        this.addData(this.newName.value, this.newState.value, this.newAddress.value, this.newType.value, this.newPrice.value);\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88,\n        columnNumber: 11\n      }\n    }, /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => this.newName = input,\n      type: \"text\",\n      className: \"addCountryForm\",\n      placeholder: \"Token Name\",\n      required: true,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => this.newState = input,\n      type: \"text\",\n      className: \"addCountryForm\",\n      placeholder: \"State\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => this.newAddress = input,\n      type: \"test\",\n      className: \"addCountryForm\",\n      placeholder: \"Address\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 95,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => this.newType = input,\n      type: \"number\",\n      className: \"addCountryForm\",\n      placeholder: \"Type\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      ref: input => this.newPrice = input,\n      type: \"number\",\n      className: \"addCountryForm\",\n      placeholder: \"Price\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 97,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"br\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 13\n      }\n    }), /*#__PURE__*/React.createElement(\"input\", {\n      type: \"submit\",\n      hidden: false,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 15\n      }\n    }))), /*#__PURE__*/React.createElement(\"div\", {\n      className: \"infoFlex\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 107,\n        columnNumber: 11\n      }\n    }, \" \\xA0 \"), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"acctInfo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 108,\n        columnNumber: 11\n      }\n    }, \"Account: \", this.state.account), /*#__PURE__*/React.createElement(\"span\", {\n      className: \"acctInfo\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 11\n      }\n    }, \"Balance: @\", this.state.balance), /*#__PURE__*/React.createElement(\"span\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 11\n      }\n    }, \" \\xA0 \")));\n  }\n\n}\n\nexport default NewToken;","map":{"version":3,"sources":["/Users/reuben/Desktop/work/lux/demo/product/eth/luxwater/src/components/addToken.js"],"names":["React","Component","Web3","MARKETPLACE_ABI","MARKETPLACE_ADDRESS","NewToken","componentWillMount","runWeb3","blockchain","forceUpdate","componentDidMount","document","title","componentWillUnmount","clearInterval","interval","constructor","props","state","account","balance","loading","addData","bind","window","ethereum","web3","enable","currentProvider","alert","givenProvider","marketplaceData","eth","Contract","setState","accounts","getAccounts","balanceInWei","getBalance","name","address","type","price","methods","addToken","send","from","render","event","preventDefault","newName","value","newState","newAddress","newType","newPrice","input"],"mappings":"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","sourcesContent":["import React, { Component } from 'react';\nimport Web3 from 'web3'\nimport '../css/marketplace.css'\n\nimport { MARKETPLACE_ABI, MARKETPLACE_ADDRESS } from '../config.js'\n\n\nclass NewToken extends Component {\n\n  async componentWillMount() {\n    await this.runWeb3()\n    await this.blockchain()\n    this.forceUpdate()\n  }\n\n\n  componentDidMount(){\n    document.title = \"react-web3\"\n  }\n\n\n  async componentWillUnmount() {\n    clearInterval(this.interval);\n  }\n\n\n  constructor(props) {\n    super(props)\n    this.state = {\n      account: '',\n      balance: '',\n      loading: true\n    }\n\n    this.addData = this.addData.bind(this)\n  }\n\n  async runWeb3() {\n\n    if (window.ethereum) {\n      window.web3 = new Web3(window.ethereum)\n      await window.ethereum.enable()\n    }\n    else if (window.web3) {\n      window.web3 = new Web3(window.web3.currentProvider)\n    }\n    else {\n      window.alert('Non-Ethereum browser detected. Please install MetaMask or similar!')\n    }\n  }\n\n\n  async blockchain() {\n\n    const web3 = new Web3(Web3.givenProvider || \"http://localhost:8545\")\n\n\n    const marketplaceData = new web3.eth.Contract(MARKETPLACE_ABI, MARKETPLACE_ADDRESS)\n\n    this.setState({ marketplaceData })\n\n    const accounts = await web3.eth.getAccounts()\n    const balanceInWei = await web3.eth.getBalance(accounts[0])\n    var balance = balanceInWei/1000000000000000000\n    var account = accounts[0]\n\n    this.setState({ account: account, balance: balance, loading: false })\n  }\n\n\n   addData(name, state, address, type, price) {\n\n     this.state.marketplaceData.methods.addToken(name, state, address, type, price).send({ from: this.state.account })\n   }\n\n\n  render() {\n    return (\n\n      <div className = \"mainForm\">\n\n        <hr />\n\n        <h1> Add Token </h1>\n\n        <div className = \"formDiv\">\n\n          <form className = \"sendForm\" onSubmit={(event) => {\n            event.preventDefault()\n            this.addData(this.newName.value, this.newState.value, this.newAddress.value, this.newType.value, this.newPrice.value)\n            }}>\n\n            <input ref={(input) => this.newName = input} type=\"text\" className=\"addCountryForm\" placeholder=\"Token Name\" required />\n            <input ref={(input) => this.newState = input} type=\"text\" className=\"addCountryForm\" placeholder=\"State\" />\n            <input ref={(input) => this.newAddress = input} type=\"test\" className=\"addCountryForm\" placeholder=\"Address\" />\n            <input ref={(input) => this.newType = input} type=\"number\" className=\"addCountryForm\" placeholder=\"Type\" />\n            <input ref={(input) => this.newPrice = input} type=\"number\" className=\"addCountryForm\" placeholder=\"Price\" />\n\n\n            <br />\n              <input type=\"submit\" hidden={false} />\n          </form>\n\n        </div>\n\n        <div className = \"infoFlex\">\n          <span> &nbsp; </span>\n          <span className=\"acctInfo\">Account: {this.state.account}</span>\n          <span className=\"acctInfo\">Balance: @{this.state.balance}</span>\n          <span> &nbsp; </span>\n        </div>\n\n      </div>\n\n    );\n  }\n}\n\nexport default NewToken;\n"]},"metadata":{},"sourceType":"module"}